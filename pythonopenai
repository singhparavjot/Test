# Process metric data and filter by deployment name
foreach ($metric in $metricData.Data) {
    # Check if the metric has dimensions and match the deployment name
    foreach ($timeseries in $metric.Timeseries) {
        foreach ($dimension in $timeseries.Metadatavalues) {
            if ($dimension.Name -eq "ModelDeploymentName" -and $dimension.Value -eq $deploymentName) {
                foreach ($data in $timeseries.Data) {
                    if ($data.Total -ne $null) {
                        $totalTokens += $data.Total
                    }
                }
            }
        }
    }
}
